#!/usr/bin/env ruby

# bs => branch search

require 'awesome_print'

branches = `git branch`.scan(/\S+$/).flatten.uniq

if ARGV.first
  puts branches.grep(Regexp.new(ARGV.first))
else
  puts branches
end

# puts branches.first(20)

# ap scanned: branches.scan(/moving from (\S+) to (\S+)/).flatten.uniq

__END__
__END_OUTPUT__



git reflog | ag -o 'moving from\s*\S+ to \S+' | sed 's/moving from[[:space:]]*//g;s/ to / /g'
# git reflog | ag 'moving from\s*\S+ to \S+' | sed 's/moving from[[:space:]]*//g;s/ to / /g'
); do
  echo $a
done | uniq

<<-"IO"
spike/null-out-model
develop
feature/6-custom-scaffold
spike/null-out-model
develop
feature/6-custom-scaffold
copy/isolated-testing
develop
examples/isolated-testing
copy/isolated-testing
feature/async-canvas-importer
examples/isolated-testing
develop
feature/async-canvas-importer
develop
feature/async-canvas-importer
feature/49-project-wiki
develop
feature/49-project-wiki
features/34-assoc-with-institution
develop
features/34-assoc-with-institution
feature/49-project-wiki
develop
feature/49-project-wiki
fb7145d2b970911191523ec7fdc7b72ef0f7ff37
develop
staging/master
fb7145d2b970911191523ec7fdc7b72ef0f7ff37
develop
staging-copy
fb7145d2b970911191523ec7fdc7b72ef0f7ff37
staging-copy
develop
staging/master
feature/48-git-branching-workflow-doc
develop
feature/48-git-branching-workflow-doc
develop
rebase/48-git-branching-workflow-doc
feature/48-git-branching-workflow-doc
rebase/48-git-branching-workflow-doc
develop
feature/48-git-branching-workflow-doc
develop
messaging
feature/48-git-branching-workflow-doc
features/nightly-imports
messaging
features/targetted-canvas-imports
features/nightly-imports
features/targetted-canvas-imports
features/34-assoc-with-institution
features/nightly-imports
messaging
features/34-assoc-with-institution
develop
messaging
examples/isolated-testing
develop
feature/7-Canvas-oauth-for-devise
examples/isolated-testing
develop
feature/7-Canvas-oauth-for-devise
examples/isolated-testing
develop
feature/48-git-branching-workflow-doc
examples/isolated-testing
test
feature/48-git-branching-workflow-doc
test
feature/48-git-branching-workflow-doc
test
develop
feature/48-git-branching-workflow-doc
develop
test
feature/48-git-branching-workflow-doc
test
feature/48-git-branching-workflow-doc
test
feature/48-git-branching-workflow-doc
test
feature/48-git-branching-workflow-doc
test
develop
feature/48-git-branching-workflow-doc
develop
test
feature/48-git-branching-workflow-doc
feature/49-project-wiki
test
feature/49-project-wiki
test
examples/isolated-testing
feature/49-project-wiki
examples/isolated-testing
feature/49-project-wiki
develop
examples/isolated-testing
features/34-assoc-with-institution
develop
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/34-assoc-with-institution
cpicktest/test
features/assoc-with-institution
features/34-assoc-with-institution
features/assoc-with-institution
features/34-assoc-with-institution
develop
features/assoc-with-institution
master
develop
master
develop
features/assoc-with-institution
master
features/nightly-imports
features/assoc-with-institution
tools/heroku-binstubs
features/nightly-imports
features/targetted-canvas-imports
tools/heroku-binstubs
features/assoc-with-institution
features/targetted-canvas-imports
features/roles
features/assoc-with-institution
features/roles
features/assoc-with-institution
features/roles
rebasing/assoc-with-institution
features/assoc-with-institution
rebasing/assoc-with-institution
master
features/assoc-with-institution
features/roles
master
features/roles
rebasing/linnbenton20150928
master
demo/linnbenton20150928
rebasing/linnbenton20150928
rebasing/master
demo/linnbenton20150928
master
rebasing/master
master
rebasing/master
master
rebasing/master
merging/lbdemo/master
master
demo/linnbenton20150928
merging/lbdemo/master
merging/linnbenton20150928
demo/linnbenton20150928
merging/linnbenton20150928
merging/lbdemo/master
demo/linnbenton20150928
master
merging/lbdemo/master
features/assoc-with-institution
master
demo/linnbenton20150928
features/assoc-with-institution
master
demo/linnbenton20150928
master
demo/linnbenton20150928
master
roomscoffee
demo/linnbenton20150928
features/assoc-with-institution
roomscoffee
demo/linnbenton20150928
features/assoc-with-institution
roomscoffee
demo/linnbenton20150928
master
roomscoffee
demo/linnbenton20150928
master
roomscoffee
demo/linnbenton20150928
master
roomscoffee
master
roomscoffee
demo/linnbenton20150928
master
0ef282dfa8e96c800be9b51914834fb15f86f373
demo/linnbenton20150928
staging/master
features/update-algorithm
demo/linnbenton20150928
prerebase/update-algorithm
features/update-algorithm
prerebase/update-algorithm
02fbd34c6351888d9e03c14b533d5b2052b0d272
features/update-algorithm
master
gh/master
demo/linnbenton20150928
master
demo/linnbenton20150928
features/update-algorithm
master
features/update-algorithm
master
features/update-algorithm
features/canvas-importer
master
features/canvas-importer
master
spike/canvas-autogenerate-api-ints
features/canvas-importer
features/student-show-presenter
spike/canvas-autogenerate-api-ints
features/student-show-presenter
spike/canvas-autogenerate-api-wrapper
spike/canvas-autogenerate-api-ints
feature/recursive-canvas-api
spike/canvas-autogenerate-api-wrapper
feature/recursive-canvas-api
spike/canvas-autogenerate-api-wrapper
rooms
feature/recursive-canvas-api
room
rooms
master
room
feature/recursive-canvas-api
master
feature/recursive-canvas-api
master
feature/recursive-canvas-api
master
swagger
feature/recursive-canvas-api
master
swagger
master
swagger
additional_days
master
additional_days
profile
master
profile
fakereports
master
fakereports
canvas
master
canvas
report
master
report
master
report
import_grades
master
import_grades
grades
master
grades
master
grades
cucumber
master
cucumber

IO
